<!--
  Generated template for the Login page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header padding style="background-color: #12202c;">
  <ion-row style="padding-top: 20px;">
    <ion-col col-10 no-padding>
      <h3 style="padding-top: 15px;padding-left: 0px;padding-right: 0px;font-size: 2.7em; color:whitesmoke;">
        <img src="assets/img/Icon-40.png">
        NetProF </h3>
    </ion-col>

    <ion-col col-2>
      <ion-avatar no-padding item-right>
        <img src="assets/img/dliIcon.png">
      </ion-avatar>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-segment color={{theme}} style="background-color:#12202c;" [(ngModel)]="authType">

      <ion-segment-button value="login">
        Login
      </ion-segment-button>
      <ion-segment-button value="signup">
        Signup
      </ion-segment-button>
    </ion-segment>
  </ion-row>
</ion-header>
<ion-content>
  <div [ngSwitch]="authType">
    <form style="padding-top: 12px" *ngSwitchCase="'login'" #f="ngForm" [formGroup]="logform" (ngSubmit)="login()">
      <ion-item>
        <ion-label>
          <ion-icon name="person"></ion-icon>
        </ion-label>
        <ion-input type="text" autocorrect="off" autocapitalize="none" formControlName="username" placeholder="Username"
          clearOnEdit="true"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label>
          <ion-icon name="lock"></ion-icon>
        </ion-label>
        <ion-input type="password" formControlName="password" placeholder="Password" clearOnEdit="true"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>
          <ion-icon name="globe" padding-right></ion-icon>{{selected_site=='site' ? 'Select a language' :
          selected_site}}
        </ion-label>
        <ion-select formControlName="site">
          <ion-option *ngFor="let site of sites" [value]='site'>{{site.language=="Mandarin" ?'' : site.language}}
            {{site.language.toLowerCase()==site.name.toLowerCase() ? '' : site.name}}
          </ion-option>
        </ion-select>
      </ion-item>

      <div padding>
        <button ion-button block color={{theme}} type="submit" [disabled]="!f.form.valid">Login</button>
      </div>

    </form>
    <div *ngSwitchCase="'login'">
      <ion-item>
        <button ion-button color={{theme}} clear value="forgotPass" (click)="showForgotPassPrompt()">
          Forgot Password?
        </button>
        <button ion-button color={{theme}} clear item-right value="forgotUser" (click)="showForgotUserPrompt()">
          Forgot Username?
        </button>

      </ion-item>
    </div>
    <form style="padding-top: 12px" *ngSwitchCase="'signup'" #fs="ngForm" [formGroup]="signform" (ngSubmit)="signup()">

      <ion-item>
        <ion-input type="text" formControlName="username" autocapitalize="none" placeholder="Username" clearInput>
        </ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" formControlName="firstname" placeholder="First Name" clearInput></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="text" formControlName="lastname" placeholder="Last Name" clearInput></ion-input>
      </ion-item>
      <ion-item>
        <ion-input type="email" formControlName="email" placeholder="Email" clearInput></ion-input>
      </ion-item>

      <ion-item>
        <ion-label>Affiliation</ion-label>
        <ion-select tappable formControlName="affiliation" [(ngModel)]="affiliation" interface="action-sheet">
          <ion-option value="DLIFLC" selected="true">DLI Foreign Language Center</ion-option>
          <ion-option value="DLI-W">DLI-Washington</ion-option>
          <ion-option value="LTD">Language Training Detachment</ion-option>
          <ion-option value="MTT">Mobile Training Team</ion-option>
          <ion-option value="MIT-LL">MIT - Lincoln Lab</ion-option>
          <ion-option value="OTHER">Others</ion-option>
        </ion-select>
      </ion-item>
      <!-- <ion-item>
        <ion-label>Gender</ion-label>
        <ion-select tappable formControlName="gender" [(ngModel)]="gender" interface="action-sheet">
          <ion-option value="male" selected="true">Male</ion-option>
          <ion-option value="female">Female</ion-option>
        </ion-select>
      </ion-item> -->
      <div padding>
        <button ion-button block color={{theme}} type="submit" [disabled]="!fs.form.valid">Signup</button>
      </div>

    </form>
  </div>
  <ion-row style="background-color: #032b4d;padding-top:15px">
  </ion-row>
  <h4
    style="margin-top: .8em;margin-bottom: .8em;margin-left: .5em; margin-right: .5em; word-wrap: normal;color:rgb(9, 80, 194);">
    Networked Pronunciation Feedback System </h4>
  <h6
    style="margin-top: 0em;margin-bottom: .8em;margin-left: .5em; margin-right: .5em; word-wrap: normal;color:rgb(6, 11, 19);">
    Practice pronunciation and learn vocabulary.</h6>

  <h6
    style="margin-top: 0em;margin-bottom: .8em;margin-left: .5em; margin-right: .5em; word-wrap: normal;color:rgb(6, 11, 19);">
    Record your voice and get feedback on your pronunciation.</h6>

  <h6
    style="margin-top: 0em;margin-bottom: .8em;margin-left: .5em; margin-right: .5em;word-wrap: normal;color:rgb(6, 11, 19);">
    Practice
    vocabulary and context sentences with audio flashcards.</h6>

  <h6
    style="margin-top: 0em;margin-bottom: .8em;margin-left: .5em; margin-right: .5em;word-wrap: normal;color:rgb(6, 11, 19);">
    Create and share vocab and context sentences lists for study and review.</h6>

  <div padding>
    <p *ngIf="error" class="error">{{ error._body }}</p>
  </div>
</ion-content>